<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>A Pen by  Daniel</title>
  
  
  
      <link rel="stylesheet" href="css/style.css">

  
</head>

<body>

  <html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("button").click(
      function() {
        var yourdomain = 'chattechsolutions.freshdesk.com'; // Your freshdesk domain name. Ex., yourcompany
        var api_key = 'Gb30TrNG1EhHoZIE11Q1'; // Ref: https://support.freshdesk.com/support/solutions/articles/215517-how-to-find-your-api-key
        ticket_data = '{ "description": "If you see this, this means that I have successfully submitted a ticket using FreshDesk API using jQuery and CodePen as the host. By Default, it should say Atira Hotels! I am also testing urgency. Default should be set to medium", "subject": "jQuery API Testing: Success", "email": "daniel@chattechsolutions.com", "priority": 2, "status": 2, "type" : "Atira Hotels"}';
        $.ajax(
          {
            url: "https://chattechsolutions.freshdesk.com/api/v2/tickets",
            type: 'POST',
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            headers: {
              "Authorization": "Basic " + btoa(api_key + ":x")
            },
            data: ticket_data,
            success: function(data, textStatus, jqXHR) {
              $('#result').text('Success');
              $('#code').text(jqXHR.status);
              $('#response').html(JSON.stringify(data, null, "<br/>"));
            },
            error: function(jqXHR, tranStatus) {
              $('#result').text('Error');
              $('#code').text(jqXHR.status);
              x_request_id = jqXHR.getResponseHeader('X-Request-Id');
              response_text = jqXHR.responseText;
              $('#response').html(" Error Message : <b style='color: red'>"+response_text+"</b>.<br/> Your X-Request-Id is : <b>" + x_request_id + "</b>. Please contact support@freshdesk.com with this id for more information.");
            }
          }
        );
      }
    );
});
</script>
</head>
<body>

<button>Create ticket</button>
<br/></br>
<table cellspacing = '10'>
  <tr>
    <td> <b>Result</b></td>
    <td> <div id = 'result'></div> </td>
  </tr>
  <tr>
    <td> <b>Code</b></td>
    <td> <div id = 'code'></div> </td>
  </tr>
  <tr>
    <td> <b>Response</b></td>
    <td> <div id = 'response'></div> </td>
  </tr>
</table>
  
    <h1 id="title" class="title">Atira Hotels</h1>

<div class="support">
  <form>
    <div class="fieldgroup fieldgroup-name">
       <label>Name</label>
       <input type="text" placeholder="Full Name" name="first"/>
    </div>
    <div class="fieldgroup fieldgroup-site">
       <label>Email</label>
       <input type="text" placeholder="Email Address"/>
    </div>
       <div class="fieldgroup fieldgroup-site">
       <label>Phone</label>
       <input type="text" placeholder="Best Number To Reach You"/>
    </div>
    <div class="fieldgroup fieldgroup-issue-url">
       <label>Issue</label>
       <input type="text" placeholder="Summarize Your Issue"/>
    </div>


    <div class="fieldgroup fieldgroup-question">
       <label>Description</label>
      <textarea></textarea>
    </div>
    <input type="submit" value="Submit Ticket" />
  </form>
</div>
</body>
</html>
  
  

</body>

</html>
